---
title: "HW5"
author: "jgn2108"
date: "`r Sys.Date()`"
output: github_document
---

#Problem 1: Washington Post data in a github repository
```{r}
#install.packages("readr")
#install.packages("skimr")
#library(readr)
#library(tidyverse)
#library(skimr)
#library(dplyr)
```

#Read in data
```{r}
url <- "https://raw.githubusercontent.com/washingtonpost/data-homicides/master/homicide-data.csv"

# Read the CSV file into a data frame
homicide_data <- read_csv(url)

# View the first few rows of the data
head(homicide_data)
```
#Data cleaning (using skimr)
```{r}
# Use the skim() function directly from skimr without loading the whole package
skim_summary <- skimr::skim(homicide_data)

# Print the summary
print(skim_summary)

```
#Convert tibble into a standard df
```{r}
homicide_data_df <- as.data.frame(homicide_data)
str(homicide_data_df)
```
This data represents the names and demographics of homicide victims across the U.S., as well as the date the homicide was reported, the location (latitude/longitude) the victims were found, and the disposition of the case (i.e., whether an arrest was made or not).

#Reformat reported_date
```{r}
# Convert numeric date to Date object
homicide_data_df$reported_date <- as.Date(as.character(homicide_data_df$reported_date), format = "%Y%m%d")

# Format the date as MM/DD/YYYY
homicide_data_df$reported_date <- format(homicide_data_df$reported_date, "%m/%d/%Y")

```

#Create a new variable: city_state
```{r}
# Create city_state variable
homicide_data_df <- mutate(homicide_data_df, city_state = paste(city, state, sep = ", "))

# Summarize data
summary_data <- homicide_data_df %>%
  group_by(city_state) %>%
  summarize(
    total_homicides = n(),
    unsolved_homicides = sum(disposition %in% c("Closed without arrest", "Open/No arrest"))
  )

# Print the summary data
print(summary_data)
```

